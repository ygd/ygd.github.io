+function(a,b,c){"use strict";var d={calc:!1};b.fn.rrssb=function(a){var d=b.extend({description:c,emailAddress:c,emailBody:c,emailSubject:c,image:c,title:c,url:c},a);for(var e in d)d.hasOwnProperty(e)&&d[e]!==c&&(d[e]=f(d[e]));d.url!==c&&(b(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+d.url),b(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+d.url+(d.title!==c?"&name="+d.title:"")+(d.description!==c?"&description="+d.description:"")),b(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+d.url+(d.title!==c?"&title="+d.title:"")+(d.description!==c?"&summary="+d.description:"")),b(this).find(".rrssb-twitter a").attr("href","https://twitter.com/intent/tweet?text="+(d.description!==c?d.description:"")+"%20"+d.url),b(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+d.url+(d.title!==c?"&text="+d.title:"")),b(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+d.url+(d.description!==c?"&text="+d.description:"")+(d.title!==c?"&title="+d.title:"")),b(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+(d.description!==c?d.description:"")+"%20"+d.url),b(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+d.url+(d.image!==c?"&amp;media="+d.image:"")+(d.description!==c?"&amp;description="+d.description:"")),b(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+d.url),b(this).find(".rrssb-github a").attr("href",d.url)),d.emailAddress!==c&&b(this).find(".rrssb-email a").attr("href","mailto:"+d.emailAddress+"?"+(d.emailSubject!==c?"subject="+d.emailSubject:"")+(d.emailBody!==c?"&amp;body="+d.emailBody:""))};var e=function(){var a=b("<div>"),c=["calc","-webkit-calc","-moz-calc"];b("body").append(a);for(var e=0;e<c.length;e++)if(a.css("width",c[e]+"(1px)"),1===a.width()){d.calc=c[e];break}a.remove()},f=function(a){if(a!==c&&null!==a){if(null===a.match(/%[0-9a-f]{2}/i))return encodeURIComponent(a);a=decodeURIComponent(a),f(a)}},g=function(){b(".rrssb-buttons").each(function(a){var c=b(this),d=b("li:visible",c),e=d.length,f=100/e;d.css("width",f+"%").attr("data-initwidth",f)})},h=function(){b(".rrssb-buttons").each(function(a){var c=b(this),d=c.width(),e=b("li",c).not(".small").first().width();e>170&&b("li.small",c).length<1?c.addClass("large-format"):c.removeClass("large-format"),200>d?c.removeClass("small-format").addClass("tiny-format"):c.removeClass("tiny-format")})},i=function(){b(".rrssb-buttons").each(function(a){var c=b(this),d=b("li",c),e=d.filter(".small"),f=0,g=0,h=e.first(),i=parseFloat(h.attr("data-size"))+55,j=e.length;if(j===d.length){var l=42*j,m=c.width();m>l+i&&(c.removeClass("small-format"),e.first().removeClass("small"),k())}else{d.not(".small").each(function(a){var c=b(this),d=parseFloat(c.attr("data-size"))+55,e=parseFloat(c.width());f+=e,g+=d});var n=f-g;n>i&&(h.removeClass("small"),k())}})},j=function(a){b(".rrssb-buttons").each(function(a){var c=b(this),d=b("li",c);b(d.get().reverse()).each(function(a,c){var e=b(this);if(e.hasClass("small")===!1){var f=parseFloat(e.attr("data-size"))+55,g=parseFloat(e.width());if(f>g){var h=d.not(".small").last();b(h).addClass("small"),k()}}--c||i()})}),a===!0&&m(k)},k=function(){b(".rrssb-buttons").each(function(a){var c,e,f,h,i,j=b(this),k=b("li",j),l=k.filter(".small"),m=l.length;m>0&&m!==k.length?(j.removeClass("small-format"),l.css("width","42px"),f=42*m,c=k.not(".small").length,e=100/c,i=f/c,d.calc===!1?(h=(j.innerWidth()-1)/c-i,h=Math.floor(1e3*h)/1e3,h+="px"):h=d.calc+"("+e+"% - "+i+"px)",k.not(".small").css("width",h)):m===k.length?(j.addClass("small-format"),g()):(j.removeClass("small-format"),g())}),h()},l=function(){b(".rrssb-buttons").each(function(a){b(this).addClass("rrssb-"+(a+1))}),e(),g(),b(".rrssb-buttons li .rrssb-text").each(function(a){var c=b(this),d=c.width();c.closest("li").attr("data-size",d)}),j(!0)},m=function(a){b(".rrssb-buttons li.small").removeClass("small"),j(),a()},n=function(b,d,e,f){var g=a.screenLeft!==c?a.screenLeft:screen.left,h=a.screenTop!==c?a.screenTop:screen.top,i=a.innerWidth?a.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,j=a.innerHeight?a.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,k=i/2-e/2+g,l=j/3-f/3+h,m=a.open(b,d,"scrollbars=yes, width="+e+", height="+f+", top="+l+", left="+k);a.focus&&m.focus()},o=function(){var a={};return function(b,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}();b(document).ready(function(){b(document).on("click",".rrssb-buttons a.popup",{},function(a){var c=b(this);n(c.attr("href"),c.find(".rrssb-text").html(),580,470),a.preventDefault()}),b(a).resize(function(){m(k),o(function(){m(k)},200,"finished resizing")}),l()}),a.rrssbInit=l}(window,jQuery);